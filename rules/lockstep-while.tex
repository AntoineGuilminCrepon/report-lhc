%!TEX root = ../main.tex
\infer*[lab=lockstep-while, Right={$I\ne\emptyset$}]{
    \V
    P
    |- 
    \WPU {\m[i: g_i | i \in I]}*
    {\fun b'. \WPE {\m[j: g_j' | j \in J]}*
    {\begin{pmatrix*}[l]
    \fun b. (b \cdot b' =_{I\cup J} 0 \land Q) \\
    \lor 
    \begin{pmatrix*}[l]
        b \cdot b' \ne_{I\cup J} 0 \\
        \land\WPU {\m[i: t_i | i \in I]}{\WPE {\m[j: t_j' | j \in J]} {P}}
    \end{pmatrix*}
    \end{pmatrix*}}}
}{
    \V
    {P}
    |- 
    \WPU {\m[i: \code{while}\ g_i\ \code{do}\ t_i | i \in I]}
    {\WPE {\m[j: \code{while}\ g'_j\ \code{do}\ t'_j | j \in J]} {Q}}
}